import{_ as C}from"./_plugin-vue_export-helper-361d09b5.js";import{s as x,e as w,t as O,p as L,z as I,I as R,J as U}from"./ui-cbe5f1a1.js";import{J as r,K as m,u as E,R as b,M as d,m as k,P as B,d as P,Y as q,j as N,r as F,L as c,_ as z,I as T,F as Y,c as h,Z as J,S as K,n as S}from"./vue-05c01b0c.js";const M={name:"passwordField",props:{inputProps:{type:Object,default:()=>({})}},setup(u){return{inputOptions:u.inputProps}}};function Z(u,i,l,n,p,t){const a=x;return r(),m(a,E({class:"password-field","show-password-on":"mousedown",type:"password"},n.inputOptions),null,16)}const G=C(M,[["render",Z]]),H={name:"textField",props:{inputProps:{type:Object,default:()=>({})},inputSlots:{type:Object,default:()=>({})},value:{type:String,default:""}},setup(u){return{options:u.inputProps,slots:u.inputSlots}},methods:{input(u){this.$emit("update:value",u)}}},Q={flex:"","justify-between":"","flex-nowrap":"","w-full":"",class:"text-field"};function W(u,i,l,n,p,t){const a=x;return r(),b("div",Q,[d(a,E({value:l.value,onInput:t.input},n.options),null,16,["value","onInput"]),u.$slots.button?k(u.$slots,"button",{key:0}):B("",!0)])}const X=C(H,[["render",W]]),tt={name:"textareaField",props:{inputProps:{type:Object,default:()=>({})}},setup(u){return{options:u.inputProps}},methods:{}};function et(u,i,l,n,p,t){const a=x;return r(),m(a,E(n.options,{type:"textarea",class:"textarea-field"}),null,16)}const nt=C(tt,[["render",et]]),ut={key:1,flex:"","justify-end":""},j=P({__name:"index",props:{formItemList:{type:Object,default:()=>[]}},emits:["submit","failed"],setup(u,{expose:i,emit:l}){const n=u,{formItemList:p}=q(n),t=N({}),a=F(null),y=o=>new Promise((D,$)=>{var v;(v=a.value)==null||v.validate(f=>{f||D()},f=>o&&0<o.length?f.key?o.includes(f.key):!1:!0).catch(f=>{$(f)})}),s=()=>{var o;(o=a.value)==null||o.restoreValidation()},_=()=>{s(),Object.keys(t).map(o=>{t[o]=""})},g=()=>{y().then(()=>{l("submit",{values:t})}).catch(o=>{l("failed",{values:t,errors:o})})};return i({handleSubmit:g,handleResetForm:_,handleValidate:y,handleRestoreValidation:s}),(o,D)=>{const $=L,v=w,f=O;return r(),m(f,{class:"the-form",model:t,ref_key:"theFormComponent",ref:a},{default:c(()=>[(r(!0),b(Y,null,z(T(p),(e,V)=>(r(),m($,E({path:e.name},e.formItemProps&&e.formItemProps||{},{key:V}),{default:c(()=>[e.type==="password"?(r(),m(G,{key:0,value:t[e.name],"onUpdate:value":A=>t[e.name]=A,inputProps:e.inputProps&&e.inputProps||{}},null,8,["value","onUpdate:value","inputProps"])):e.type==="textarea"?(r(),m(nt,{key:1,value:t[e.name],"onUpdate:value":A=>t[e.name]=A,inputProps:e.inputProps&&e.inputProps||{}},null,8,["value","onUpdate:value","inputProps"])):e.type==="text"||!e.type?(r(),m(X,{key:2,value:t[e.name],"onUpdate:value":A=>t[e.name]=A,inputProps:e.inputProps&&e.inputProps||{},inputSlots:e.inputSlots&&e.inputSlots||{}},{button:c(()=>[e.inputSlots&&e.inputSlots.button&&o.$slots[e.inputSlots.button]?k(o.$slots,e.inputSlots.button,{key:0}):B("",!0)]),_:2},1032,["value","onUpdate:value","inputProps","inputSlots"])):B("",!0)]),_:2},1040,["path"]))),128)),o.$slots.submitBtn?k(o.$slots,"submitBtn",{key:0}):(r(),b("div",ut,[d(v,{round:"",type:"primary","mr-20px":"","attr-type":"button",onClick:_},{default:c(()=>[h("\u91CD\u7F6E")]),_:1}),d(v,{round:"",type:"info","mr-20px":"","attr-type":"button",onClick:s},{default:c(()=>[h("\u6E05\u7A7A\u9A8C\u8BC1")]),_:1}),d(v,{round:"",type:"primary","attr-type":"submit",onClick:g},{default:c(()=>[h("\u63D0\u4EA4")]),_:1})]))]),_:3},8,["model"])}}}),ot={class:"ji-chu-yong-fa"},st=P({__name:"jiChuYongFa",setup(u){const i=[{name:"usname",formItemProps:{label:"\u7528\u6237\u540D",rule:{trigger:["blur"],required:!0,validator:(p,t)=>t?!0:new Error("\u7528\u6237\u540D\u4E0D\u80FD\u4E3A\u7A7A!")}},inputProps:{placeholder:"\u8BF7\u8F93\u5165\u7528\u6237\u540D\u7801"}},{name:"password",type:"password",formItemProps:{label:"\u5BC6\u7801",rule:{trigger:["blur"],required:!0,validator:(p,t)=>t?!0:new Error("\u5BC6\u7801\u4E0D\u80FD\u4E3A\u7A7A!")}},inputProps:{placeholder:"\u8BF7\u8F93\u5165\u5BC6\u7801"}},{name:"issue",type:"textarea",formItemProps:{label:"\u7559\u8A00"},inputProps:{placeholder:"\u8BF7\u8F93\u5165\u7559\u8A00"}}],l=p=>{},n=p=>{};return(p,t)=>{const a=I;return r(),b("div",ot,[d(a,{type:"info","mb-20":""},{default:c(()=>[h("\u57FA\u7840\u7528\u6CD5")]),_:1}),d(j,{formItemList:i,onSubmit:l,onFailed:n})])}}}),rt={name:"the-sendsms-button",emits:["click","finish"],setup(){const u=F("\u83B7\u53D6\u9A8C\u8BC1\u7801"),i=F(0),l=F(!1);return{msg:u,time:i,disabled:l,renderCountdown:({seconds:p})=>`${String(p).padStart(2,"0")}\u79D2\u540E\u91CD\u53D1`}},methods:{clickEvt(){this.$emit("click",()=>{this.time=60*1e3,this.disabled=!0})},finishEvt(){this.msg="\u91CD\u65B0\u53D1\u9001",this.time=0,this.disabled=!1,this.$emit("finish")}}},at={key:0};function it(u,i,l,n,p,t){const a=R,y=w;return r(),m(y,{class:"sms-field\u2014rightBtn",type:"info","attr-type":"button",onClick:t.clickEvt,disabled:n.disabled},{default:c(()=>[n.time===0?(r(),b("span",at,J(n.msg),1)):(r(),m(a,{key:1,render:n.renderCountdown,onFinish:t.finishEvt,duration:n.time,precision:1,active:!0},null,8,["render","onFinish","duration"]))]),_:1},8,["onClick","disabled"])}const lt=C(rt,[["render",it]]),pt={class:"zi-ding-yi-button"},ct={flex:"","justify-end":""},dt=P({__name:"ziDingYiButton",setup(u){const i=F(!1),l=[{name:"tel",type:"text",formItemProps:{label:"\u624B\u673A\u53F7",rule:{key:"tel",trigger:["blur"],required:!0,validator:(s,_)=>_?!0:new Error("\u624B\u673A\u53F7\u4E0D\u80FD\u4E3A\u7A7A!")}},inputProps:{placeholder:"\u8BF7\u8F93\u5165\u624B\u673A\u53F7\u7801",allowInput:s=>!s||/^\d+$/.test(s)}},{name:"code",formItemProps:{label:"\u9A8C\u8BC1\u7801",rule:{trigger:["blur"],required:!0,validator:(s,_)=>_?!0:new Error("\u77ED\u4FE1\u9A8C\u8BC1\u7801\u4E0D\u80FD\u4E3A\u7A7A!")}},inputProps:{placeholder:"\u8BF7\u8F93\u5165\u77ED\u4FE1\u9A8C\u8BC1\u7801",style:{width:"60%"}},inputSlots:{button:"smsRightBtn"}}],n=F(),p=()=>{i.value=!0,S(()=>{var s;(s=n.value)==null||s.handleSubmit()})},t=s=>{},a=s=>{i.value=!1},y=s=>{S(()=>{var _;(_=n.value)==null||_.handleValidate(["tel"]).then(()=>{s()}).catch(g=>{})})};return(s,_)=>{const g=I,o=w;return r(),b("div",pt,[d(g,{type:"info","mb-20":""},{default:c(()=>[h("\u81EA\u5B9A\u4E49\u63D0\u4EA4\u6309\u94AE && \u8F93\u5165\u6846\u53F3\u4FA7\u6309\u94AE")]),_:1}),d(j,{ref_key:"baseForm",ref:n,formItemList:l,onSubmit:t,onFailed:a},{submitBtn:c(()=>[K("div",ct,[d(o,{w:"100px",disabled:i.value,round:"",type:"primary","attr-type":"button",onClick:p},{default:c(()=>[h(" \u63D0 \u4EA4 ")]),_:1},8,["disabled"])])]),smsRightBtn:c(()=>[d(lt,{onClick:y})]),_:1},512)])}}}),_t={class:"dev-demo"},bt=P({__name:"index",setup(u){return(i,l)=>{const n=U;return r(),b("div",_t,[d(n,{"title-placement":"left"},{default:c(()=>[h("form\u8868\u5355")]),_:1}),d(st,{"w-400px":""}),d(dt,{"w-400px":"","mt-40":""})])}}});export{bt as default};
